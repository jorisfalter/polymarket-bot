<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” Polymarket Insider Detector</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Sora:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css?v=11">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <span class="logo-icon">ğŸ”</span>
                    <span class="logo-text">INSIDER<span class="logo-highlight">WATCH</span></span>
                </div>
                <span class="tagline">Polymarket Surveillance System</span>
            </div>
            <div class="header-right">
                <nav class="main-nav">
                    <a href="/" class="nav-link active">ğŸ” Insider Detection</a>
                    <a href="/copy" class="nav-link">ğŸ“„ Copy Trading</a>
                    <a href="/trades" class="nav-link">ğŸ¯ Trade Tracker</a>
                </nav>
                <div class="status-indicator">
                    <span class="pulse"></span>
                    <span class="status-text">LIVE</span>
                </div>
                <button class="scan-btn" onclick="triggerScan()">
                    <span class="scan-icon">âš¡</span> Force Scan
                </button>
            </div>
        </header>

        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-value" id="total-alerts">--</div>
                <div class="stat-label">Alerts (24h)</div>
            </div>
            <div class="stat-card critical">
                <div class="stat-value" id="critical-alerts">--</div>
                <div class="stat-label">Critical</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="suspicious-volume">$--</div>
                <div class="stat-label">Suspicious Volume</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="avg-score">--</div>
                <div class="stat-label">Avg. Suspicion</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="clusters-detected">--</div>
                <div class="stat-label">Wallet Clusters</div>
            </div>
        </div>

        <!-- View Toggle -->
        <div class="view-toggle">
            <button class="view-btn active" data-view="alerts" onclick="switchView('alerts')">ğŸš¨ Alerts</button>
            <button class="view-btn" data-view="activity" onclick="switchView('activity')">ğŸ“Š Activity Log</button>
            <button class="view-btn" data-view="signals" onclick="switchView('signals')">ğŸ”¬ Signal Analysis</button>
            <button class="view-btn" data-view="backtest" onclick="switchView('backtest')">ğŸ§ª Backtest</button>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Alert Feed -->
            <div class="panel alert-feed" id="alerts-view">
                <div class="panel-header">
                    <h2>ğŸš¨ Suspicious Activity Feed</h2>
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-severity="all">All</button>
                        <button class="filter-tab" data-severity="critical">Critical</button>
                        <button class="filter-tab" data-severity="high">High</button>
                        <button class="filter-tab" data-severity="medium">Medium</button>
                    </div>
                </div>
                <div class="alert-list" id="alert-list">
                    <div class="loading">
                        <div class="spinner"></div>
                        <span>Scanning blockchain...</span>
                    </div>
                </div>
            </div>

            <!-- Activity Log (hidden by default) -->
            <div class="panel activity-log" id="activity-view" style="display: none;">
                <div class="panel-header">
                    <h2>ğŸ“Š All Scanned Trades</h2>
                    <span class="panel-subtitle">See every trade analyzed with signal breakdown</span>
                </div>
                <div class="activity-list" id="activity-list">
                    <div class="loading">
                        <div class="spinner"></div>
                        <span>Loading activity...</span>
                    </div>
                </div>
            </div>

            <!-- Signal Analysis (hidden by default) -->
            <div class="panel signal-analysis" id="signals-view" style="display: none;">
                <div class="panel-header">
                    <h2>ğŸ”¬ Signal Analysis</h2>
                    <span class="panel-subtitle">Understand which signals fire and how often</span>
                </div>
                <div class="signal-stats" id="signal-stats">
                    <div class="loading">
                        <div class="spinner"></div>
                        <span>Analyzing signals...</span>
                    </div>
                </div>
            </div>

            <!-- Backtest View (hidden by default) -->
            <div class="panel backtest-view" id="backtest-view" style="display: none;">
                <div class="panel-header">
                    <h2>ğŸ§ª Backtest Engine</h2>
                    <span class="panel-subtitle">Validate detection on resolved markets</span>
                </div>
                <div class="backtest-content" id="backtest-content">
                    <!-- Known Cases -->
                    <div class="backtest-section">
                        <h3>Known Insider Cases</h3>
                        <div class="backtest-cases" id="backtest-cases">
                            <div class="loading">
                                <div class="spinner"></div>
                                <span>Loading cases...</span>
                            </div>
                        </div>
                    </div>

                    <!-- Market Search -->
                    <div class="backtest-section">
                        <h3>Search Resolved Markets</h3>
                        <div class="backtest-search">
                            <div class="search-input-group">
                                <input type="text" class="search-input" id="backtest-search-input" placeholder="Search markets (e.g. 'Bitcoin', 'election')..." />
                                <button class="search-btn" onclick="searchBacktestMarkets()">Search</button>
                                <button class="search-btn earnings-btn" onclick="searchEarningsMarkets()">ğŸ“ˆ Earnings</button>
                            </div>
                        </div>
                        <div class="backtest-search-results" id="backtest-search-results"></div>
                    </div>

                    <!-- Backtest Result -->
                    <div class="backtest-result" id="backtest-result" style="display: none;"></div>
                </div>
            </div>

            <!-- Side Panels -->
            <div class="side-panels">
                <!-- Hot Markets -->
                <div class="panel hot-markets">
                    <div class="panel-header">
                        <h2>ğŸ”¥ Suspicious Markets</h2>
                    </div>
                    <div class="market-list" id="market-list">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Wallet Clusters -->
                <div class="panel wallet-clusters">
                    <div class="panel-header">
                        <h2>ğŸ•¸ï¸ Coordinated Wallets</h2>
                    </div>
                    <div class="cluster-list" id="cluster-list">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <span>Last scan: <span id="last-scan">--</span></span>
            <span class="footer-divider">|</span>
            <span>Auto-refresh every 30s</span>
            <span class="footer-divider">|</span>
            <span class="disclaimer">Not financial advice. For research purposes only.</span>
        </footer>
    </div>

    <!-- Alert Detail Modal -->
    <div class="modal" id="alert-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div id="modal-body">
                <!-- Populated by JS -->
            </div>
        </div>
    </div>

    <script src="/static/app.js?v=11"></script>
</body>
</html>

