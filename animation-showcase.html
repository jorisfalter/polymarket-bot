<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Animation Showcase</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --bg: #06060a;
    --bg-card: #0f0f16;
    --bg-elevated: #16161f;
    --text: #f0f0f8;
    --text-dim: #8888a8;
    --blue: #4f8fff;
    --cyan: #00e5cc;
    --purple: #a855f7;
    --pink: #f472b6;
    --amber: #fbbf24;
    --red: #ef4444;
    --green: #34d399;
    --border: #1e1e30;
  }

  body {
    font-family: 'Inter', -apple-system, sans-serif;
    background: var(--bg);
    color: var(--text);
    overflow: hidden;
    height: 100vh;
    width: 100vw;
  }

  .deck { width: 100vw; height: 100vh; position: relative; }

  .slide {
    position: absolute;
    inset: 0;
    display: none;
    flex-direction: column;
    padding: 60px 80px;
    overflow: hidden;
  }

  .slide.active { display: flex; }

  /* ============================================
     NAV
     ============================================ */
  .nav {
    position: fixed; bottom: 0; left: 0; right: 0;
    display: flex; align-items: center; justify-content: space-between;
    padding: 16px 40px;
    background: linear-gradient(transparent, var(--bg) 40%);
    z-index: 100; pointer-events: none;
  }
  .nav > * { pointer-events: auto; }
  .nav button {
    background: var(--bg-card); border: 1px solid var(--border); color: var(--text);
    padding: 10px 20px; border-radius: 8px; cursor: pointer;
    font-family: inherit; font-size: 14px; font-weight: 500; transition: all 0.2s;
  }
  .nav button:hover { border-color: var(--blue); background: var(--bg-elevated); }
  .nav button:disabled { opacity: 0.3; cursor: default; }
  .progress { display: flex; gap: 8px; align-items: center; }
  .progress .dot {
    width: 10px; height: 10px; border-radius: 50%;
    background: var(--border); transition: all 0.4s cubic-bezier(0.34,1.56,0.64,1); cursor: pointer;
  }
  .progress .dot.active { background: var(--blue); transform: scale(1.5); box-shadow: 0 0 12px var(--blue); }
  .progress .dot:hover { background: var(--cyan); }
  .slide-num { font-size: 13px; color: var(--text-dim); font-variant-numeric: tabular-nums; }
  .key-hint { position: fixed; top: 20px; right: 40px; font-size: 12px; color: var(--text-dim); opacity: 0.3; z-index: 100; }
  kbd { display: inline-block; padding: 2px 6px; background: var(--bg-card); border: 1px solid var(--border); border-radius: 4px; font-family: 'JetBrains Mono', monospace; font-size: 11px; }

  /* ============================================
     SLIDE 1 — TITLE (Particle + Text Reveal)
     ============================================ */
  #s1-canvas {
    position: absolute; inset: 0; z-index: 0;
  }

  .s1-content {
    position: relative; z-index: 1;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    flex: 1; text-align: center;
  }

  .s1-eyebrow {
    font-size: 13px; font-weight: 700; text-transform: uppercase; letter-spacing: 4px;
    color: var(--cyan); opacity: 0; animation: s1-fade-up 0.8s 0.2s forwards;
  }

  .s1-title {
    font-size: 82px; font-weight: 900; letter-spacing: -3px; line-height: 1;
    margin-top: 16px; overflow: hidden;
  }

  .s1-title .word {
    display: inline-block; opacity: 0;
    animation: s1-word-in 0.7s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .s1-title .word:nth-child(1) { animation-delay: 0.4s; }
  .s1-title .word:nth-child(2) { animation-delay: 0.55s; }
  .s1-title .word:nth-child(3) { animation-delay: 0.7s; }

  @keyframes s1-word-in {
    from { opacity: 0; transform: translateY(60px) rotateX(40deg); filter: blur(8px); }
    to { opacity: 1; transform: translateY(0) rotateX(0deg); filter: blur(0); }
  }

  .s1-title .gradient {
    background: linear-gradient(135deg, var(--blue), var(--cyan), var(--purple), var(--pink));
    background-size: 300% 300%;
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: s1-gradient-shift 4s ease infinite;
  }

  @keyframes s1-gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  .s1-subtitle {
    font-size: 22px; color: var(--text-dim); font-weight: 300; margin-top: 28px;
    opacity: 0; animation: s1-fade-up 0.8s 1s forwards;
    max-width: 600px; line-height: 1.6;
  }

  @keyframes s1-fade-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .s1-badge-row {
    display: flex; gap: 12px; margin-top: 36px;
    opacity: 0; animation: s1-fade-up 0.8s 1.3s forwards;
  }

  .s1-badge {
    padding: 8px 20px; border-radius: 100px; font-size: 13px; font-weight: 600;
    border: 1px solid transparent; backdrop-filter: blur(8px);
    animation: s1-badge-glow 3s ease-in-out infinite;
  }
  .s1-badge:nth-child(1) { background: rgba(79,143,255,0.12); border-color: rgba(79,143,255,0.3); color: var(--blue); animation-delay: 0s; }
  .s1-badge:nth-child(2) { background: rgba(168,85,247,0.12); border-color: rgba(168,85,247,0.3); color: var(--purple); animation-delay: 1s; }
  .s1-badge:nth-child(3) { background: rgba(0,229,204,0.12); border-color: rgba(0,229,204,0.3); color: var(--cyan); animation-delay: 2s; }

  @keyframes s1-badge-glow {
    0%, 100% { box-shadow: 0 0 0px transparent; }
    50% { box-shadow: 0 0 20px rgba(79,143,255,0.2); }
  }

  /* ============================================
     SLIDE 2 — Staggered Cards + 3D Tilt
     ============================================ */
  .s2-grid {
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px;
    margin-top: 32px; perspective: 1200px;
  }

  .s2-card {
    background: var(--bg-card); border: 1px solid var(--border); border-radius: 20px;
    padding: 36px; position: relative; overflow: hidden;
    opacity: 0; transform: translateY(40px) scale(0.95);
    transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
  }

  .slide.active .s2-card {
    animation: s2-card-in 0.7s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }
  .slide.active .s2-card:nth-child(1) { animation-delay: 0.15s; }
  .slide.active .s2-card:nth-child(2) { animation-delay: 0.3s; }
  .slide.active .s2-card:nth-child(3) { animation-delay: 0.45s; }

  @keyframes s2-card-in {
    from { opacity: 0; transform: translateY(60px) scale(0.9) rotateX(10deg); }
    to { opacity: 1; transform: translateY(0) scale(1) rotateX(0); }
  }

  .s2-card::before {
    content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
    background: conic-gradient(from 0deg, transparent, rgba(79,143,255,0.1), transparent, rgba(168,85,247,0.1), transparent);
    animation: s2-rotate-bg 6s linear infinite;
    opacity: 0; transition: opacity 0.3s;
  }
  .s2-card:hover::before { opacity: 1; }

  @keyframes s2-rotate-bg { to { transform: rotate(360deg); } }

  .s2-card:hover {
    transform: translateY(-8px) scale(1.02);
    border-color: var(--blue);
    box-shadow: 0 20px 60px rgba(79,143,255,0.15);
  }

  .s2-icon {
    width: 56px; height: 56px; border-radius: 16px;
    display: flex; align-items: center; justify-content: center;
    font-size: 28px; margin-bottom: 20px; position: relative; z-index: 1;
  }

  .s2-card:nth-child(1) .s2-icon { background: linear-gradient(135deg, rgba(79,143,255,0.2), rgba(0,229,204,0.2)); }
  .s2-card:nth-child(2) .s2-icon { background: linear-gradient(135deg, rgba(168,85,247,0.2), rgba(244,114,182,0.2)); }
  .s2-card:nth-child(3) .s2-icon { background: linear-gradient(135deg, rgba(251,191,36,0.2), rgba(239,68,68,0.2)); }

  .s2-card h3 { font-size: 20px; font-weight: 700; margin-bottom: 10px; position: relative; z-index: 1; }
  .s2-card p { font-size: 14px; color: var(--text-dim); line-height: 1.7; position: relative; z-index: 1; }

  .s2-heading {
    opacity: 0; animation: none;
  }
  .slide.active .s2-heading {
    animation: s1-fade-up 0.6s 0.05s forwards;
  }

  .s2-counter {
    font-size: 64px; font-weight: 900; letter-spacing: -3px;
    font-variant-numeric: tabular-nums; position: relative; z-index: 1;
    background: linear-gradient(135deg, var(--text), var(--text-dim));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  }

  .s2-counter-label {
    font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 2px;
    color: var(--text-dim); margin-top: 4px; position: relative; z-index: 1;
  }

  /* ============================================
     SLIDE 3 — Animated Chart + Morphing
     ============================================ */
  .s3-layout {
    display: grid; grid-template-columns: 1fr 1fr; gap: 48px;
    flex: 1; align-items: center;
  }

  .s3-left { opacity: 0; }
  .slide.active .s3-left { animation: s1-fade-up 0.6s 0.1s forwards; }

  .s3-left h2 {
    font-size: 44px; font-weight: 900; letter-spacing: -2px; line-height: 1.1; margin-bottom: 20px;
  }

  .s3-left p { font-size: 16px; color: var(--text-dim); line-height: 1.8; margin-bottom: 24px; }

  .s3-features {
    display: flex; flex-direction: column; gap: 14px;
  }

  .s3-feature {
    display: flex; align-items: center; gap: 14px;
    opacity: 0; transform: translateX(-20px);
  }
  .slide.active .s3-feature { animation: s3-feature-in 0.5s forwards; }
  .slide.active .s3-feature:nth-child(1) { animation-delay: 0.5s; }
  .slide.active .s3-feature:nth-child(2) { animation-delay: 0.65s; }
  .slide.active .s3-feature:nth-child(3) { animation-delay: 0.8s; }
  .slide.active .s3-feature:nth-child(4) { animation-delay: 0.95s; }

  @keyframes s3-feature-in {
    from { opacity: 0; transform: translateX(-30px); }
    to { opacity: 1; transform: translateX(0); }
  }

  .s3-dot {
    width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0;
    animation: s3-pulse 2s ease-in-out infinite;
  }
  .s3-dot:nth-child(1) { background: var(--blue); animation-delay: 0s; }

  @keyframes s3-pulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(79,143,255,0.4); }
    50% { box-shadow: 0 0 0 8px rgba(79,143,255,0); }
  }

  .s3-feature span { font-size: 15px; font-weight: 500; }

  /* Animated bars */
  .s3-chart {
    background: var(--bg-card); border: 1px solid var(--border); border-radius: 20px;
    padding: 36px; height: 380px; position: relative; overflow: hidden;
    opacity: 0;
  }
  .slide.active .s3-chart { animation: s2-card-in 0.7s 0.2s forwards; }

  .s3-chart-title {
    font-size: 14px; font-weight: 600; color: var(--text-dim); margin-bottom: 24px;
    text-transform: uppercase; letter-spacing: 1px;
  }

  .s3-bars {
    display: flex; align-items: flex-end; gap: 12px; height: 260px; padding-top: 20px;
  }

  .s3-bar-col {
    flex: 1; display: flex; flex-direction: column; align-items: center; gap: 8px; height: 100%;
    justify-content: flex-end;
  }

  .s3-bar {
    width: 100%; border-radius: 8px 8px 4px 4px; position: relative;
    transform-origin: bottom; transform: scaleY(0);
  }
  .slide.active .s3-bar { animation: s3-bar-grow 1s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }

  @keyframes s3-bar-grow {
    from { transform: scaleY(0); }
    to { transform: scaleY(1); }
  }

  .s3-bar-label {
    font-size: 11px; color: var(--text-dim); font-weight: 500;
  }

  .s3-bar-value {
    position: absolute; top: -24px; left: 50%; transform: translateX(-50%);
    font-size: 12px; font-weight: 700; white-space: nowrap;
    opacity: 0;
  }
  .slide.active .s3-bar-value { animation: s1-fade-up 0.4s forwards; }

  /* Morphing blob background */
  .s3-blob {
    position: absolute; width: 200px; height: 200px; border-radius: 50%;
    filter: blur(80px); opacity: 0.15; z-index: 0;
  }
  .s3-blob-1 {
    background: var(--blue); top: 10%; right: 10%;
    animation: s3-morph 8s ease-in-out infinite;
  }
  .s3-blob-2 {
    background: var(--purple); bottom: 15%; left: 5%;
    animation: s3-morph 10s ease-in-out infinite reverse;
  }

  @keyframes s3-morph {
    0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; transform: translate(0,0) scale(1); }
    25% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; transform: translate(30px, -20px) scale(1.1); }
    50% { border-radius: 50% 60% 30% 60% / 30% 50% 70% 60%; transform: translate(-20px, 20px) scale(0.95); }
    75% { border-radius: 60% 30% 50% 40% / 70% 40% 60% 30%; transform: translate(15px, 10px) scale(1.05); }
  }

  /* ============================================
     SLIDE 4 — Typewriter + Orbiting + Waves
     ============================================ */
  .s4-content {
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    flex: 1; text-align: center; position: relative; z-index: 1;
  }

  /* Orbiting rings */
  .s4-orbit-container {
    position: absolute; inset: 0; display: flex; align-items: center; justify-content: center;
    z-index: 0; overflow: hidden;
  }

  .s4-orbit {
    position: absolute; border: 1px solid rgba(79,143,255,0.08); border-radius: 50%;
  }
  .s4-orbit-1 { width: 300px; height: 300px; animation: s4-spin 20s linear infinite; }
  .s4-orbit-2 { width: 480px; height: 480px; animation: s4-spin 30s linear infinite reverse; border-color: rgba(168,85,247,0.08); }
  .s4-orbit-3 { width: 660px; height: 660px; animation: s4-spin 40s linear infinite; border-color: rgba(0,229,204,0.06); }

  @keyframes s4-spin { to { transform: rotate(360deg); } }

  .s4-orbit-dot {
    position: absolute; width: 8px; height: 8px; border-radius: 50%;
    top: -4px; left: 50%; margin-left: -4px;
  }
  .s4-orbit-1 .s4-orbit-dot { background: var(--blue); box-shadow: 0 0 12px var(--blue); }
  .s4-orbit-2 .s4-orbit-dot { background: var(--purple); box-shadow: 0 0 12px var(--purple); width: 6px; height: 6px; top: -3px; margin-left: -3px; }
  .s4-orbit-3 .s4-orbit-dot { background: var(--cyan); box-shadow: 0 0 12px var(--cyan); width: 5px; height: 5px; top: -2.5px; margin-left: -2.5px; }

  /* Typewriter effect */
  .s4-typewriter {
    font-family: 'JetBrains Mono', monospace;
    font-size: 18px; color: var(--cyan); position: relative; z-index: 1;
    margin-bottom: 20px; opacity: 0;
  }
  .slide.active .s4-typewriter { animation: s1-fade-up 0.5s 0.2s forwards; }

  .s4-typewriter .cursor {
    display: inline-block; width: 2px; height: 1.1em; background: var(--cyan);
    margin-left: 2px; vertical-align: text-bottom;
    animation: s4-blink 0.8s step-end infinite;
  }
  @keyframes s4-blink { 50% { opacity: 0; } }

  .s4-big {
    font-size: 72px; font-weight: 900; letter-spacing: -3px; line-height: 1.1;
    z-index: 1; margin-bottom: 12px;
  }
  .s4-big .char {
    display: inline-block; opacity: 0;
    animation: s4-char-in 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  @keyframes s4-char-in {
    from { opacity: 0; transform: translateY(40px) scale(0.5) rotate(10deg); filter: blur(4px); }
    to { opacity: 1; transform: translateY(0) scale(1) rotate(0); filter: blur(0); }
  }

  .s4-wave-row {
    display: flex; gap: 4px; margin-top: 40px; z-index: 1;
    opacity: 0;
  }
  .slide.active .s4-wave-row { animation: s1-fade-up 0.5s 1.8s forwards; }

  .s4-wave-bar {
    width: 4px; border-radius: 2px; background: var(--blue);
    animation: s4-wave 1.2s ease-in-out infinite;
  }

  @keyframes s4-wave {
    0%, 100% { height: 12px; opacity: 0.3; }
    50% { height: 40px; opacity: 1; }
  }

  /* ============================================
     SLIDE 5 — Grand Finale (Fireworks + CTA)
     ============================================ */
  #s5-canvas { position: absolute; inset: 0; z-index: 0; }

  .s5-content {
    position: relative; z-index: 1;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    flex: 1; text-align: center;
  }

  .s5-title {
    font-size: 76px; font-weight: 900; letter-spacing: -3px;
    opacity: 0;
  }
  .slide.active .s5-title { animation: s5-zoom-in 0.8s 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

  @keyframes s5-zoom-in {
    from { opacity: 0; transform: scale(0.3) rotateZ(-5deg); filter: blur(12px); }
    to { opacity: 1; transform: scale(1) rotateZ(0); filter: blur(0); }
  }

  .s5-subtitle {
    font-size: 20px; color: var(--text-dim); margin-top: 20px; font-weight: 300;
    opacity: 0; max-width: 500px; line-height: 1.6;
  }
  .slide.active .s5-subtitle { animation: s1-fade-up 0.8s 0.8s forwards; }

  .s5-cta {
    margin-top: 40px; padding: 16px 48px; border-radius: 100px; font-size: 16px; font-weight: 700;
    border: none; cursor: pointer; position: relative; overflow: hidden;
    background: linear-gradient(135deg, var(--blue), var(--purple));
    color: white; font-family: inherit;
    opacity: 0; transform: translateY(20px);
    transition: transform 0.3s, box-shadow 0.3s;
  }
  .slide.active .s5-cta { animation: s1-fade-up 0.8s 1.2s forwards; }

  .s5-cta:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 20px 60px rgba(79,143,255,0.3);
  }

  .s5-cta::before {
    content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    animation: s5-shimmer 2s 2s infinite;
  }

  @keyframes s5-shimmer {
    to { left: 100%; }
  }

  .s5-confetti {
    position: absolute; width: 10px; height: 10px; z-index: 0;
    animation: s5-fall linear forwards;
  }

  @keyframes s5-fall {
    0% { transform: translateY(-20vh) rotate(0deg); opacity: 1; }
    100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
  }

  /* Floating stats around CTA */
  .s5-float-stat {
    position: absolute; background: var(--bg-card); border: 1px solid var(--border);
    border-radius: 12px; padding: 12px 20px; font-size: 13px; font-weight: 600;
    opacity: 0; z-index: 1;
    animation: s5-float 4s ease-in-out infinite;
  }
  .slide.active .s5-float-stat { animation: s5-float-in 0.6s forwards, s5-float 4s 1.5s ease-in-out infinite; }

  @keyframes s5-float-in {
    from { opacity: 0; transform: scale(0.5); }
    to { opacity: 1; transform: scale(1); }
  }

  @keyframes s5-float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-12px); }
  }

</style>
</head>
<body>

<div class="key-hint"><kbd>&larr;</kbd> <kbd>&rarr;</kbd> to navigate</div>

<div class="deck" id="deck">

  <!-- ==================== SLIDE 1: Title — Particles + Text Reveal ==================== -->
  <div class="slide active" data-slide="1">
    <canvas id="s1-canvas"></canvas>
    <div class="s1-content">
      <div class="s1-eyebrow">CSS + JS Animation Showcase</div>
      <div class="s1-title">
        <span class="word gradient">Beyond </span>
        <span class="word">Static </span>
        <span class="word gradient">Slides</span>
      </div>
      <div class="s1-subtitle">
        A demonstration of what's possible with pure HTML, CSS animations, Canvas, and a sprinkle of JavaScript.
      </div>
      <div class="s1-badge-row">
        <div class="s1-badge">Particle Systems</div>
        <div class="s1-badge">3D Transforms</div>
        <div class="s1-badge">Spring Physics</div>
      </div>
    </div>
  </div>

  <!-- ==================== SLIDE 2: Staggered Cards + Live Counters ==================== -->
  <div class="slide" data-slide="2">
    <h2 class="s2-heading">Staggered Entrances <span style="background:linear-gradient(135deg,var(--blue),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;">& Live Counters</span></h2>
    <div class="s2-grid">
      <div class="s2-card">
        <div class="s2-icon">&#x1F680;</div>
        <div class="s2-counter" data-target="2847" data-suffix="">0</div>
        <div class="s2-counter-label">Animated Count-up</div>
        <p style="margin-top:16px;">Numbers roll up smoothly with easing. Each card staggers in with a 3D rotation entrance.</p>
      </div>
      <div class="s2-card">
        <div class="s2-icon">&#x2728;</div>
        <div class="s2-counter" data-target="99.7" data-suffix="%" data-decimals="1">0</div>
        <div class="s2-counter-label">Hover for Glow</div>
        <p style="margin-top:16px;">Cards respond to hover with conic-gradient rotation, elevation, and glow effects.</p>
      </div>
      <div class="s2-card">
        <div class="s2-icon">&#x26A1;</div>
        <div class="s2-counter" data-target="60" data-suffix=" FPS">0</div>
        <div class="s2-counter-label">Smooth as Butter</div>
        <p style="margin-top:16px;">All animations use GPU-accelerated transforms and opacity for silky 60fps performance.</p>
      </div>
    </div>
  </div>

  <!-- ==================== SLIDE 3: Chart + Feature List ==================== -->
  <div class="slide" data-slide="3">
    <div class="s3-blob s3-blob-1"></div>
    <div class="s3-blob s3-blob-2"></div>
    <div class="s3-layout">
      <div class="s3-left">
        <h2>Animated <span style="background:linear-gradient(135deg,var(--cyan),var(--green));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;">Data Viz</span></h2>
        <p>Charts spring to life with elastic easing. Elements slide in sequentially to guide the viewer's eye through the narrative.</p>
        <div class="s3-features">
          <div class="s3-feature">
            <div class="s3-dot" style="background:var(--blue);"></div>
            <span>Spring-physics bar growth</span>
          </div>
          <div class="s3-feature">
            <div class="s3-dot" style="background:var(--purple);"></div>
            <span>Staggered reveal timing</span>
          </div>
          <div class="s3-feature">
            <div class="s3-dot" style="background:var(--cyan);"></div>
            <span>Morphing background blobs</span>
          </div>
          <div class="s3-feature">
            <div class="s3-dot" style="background:var(--pink);"></div>
            <span>Pulsing indicator dots</span>
          </div>
        </div>
      </div>
      <div class="s3-chart">
        <div class="s3-chart-title">Animation Performance Score</div>
        <div class="s3-bars" id="s3-bars"></div>
      </div>
    </div>
  </div>

  <!-- ==================== SLIDE 4: Typewriter + Orbits + Audio Wave ==================== -->
  <div class="slide" data-slide="4">
    <div class="s4-orbit-container">
      <div class="s4-orbit s4-orbit-1"><div class="s4-orbit-dot"></div></div>
      <div class="s4-orbit s4-orbit-2"><div class="s4-orbit-dot"></div></div>
      <div class="s4-orbit s4-orbit-3"><div class="s4-orbit-dot"></div></div>
    </div>
    <div class="s4-content">
      <div class="s4-typewriter">
        <span id="s4-typed"></span><span class="cursor"></span>
      </div>
      <div class="s4-big" id="s4-big-text"></div>
      <div class="s4-wave-row" id="s4-wave-row"></div>
    </div>
  </div>

  <!-- ==================== SLIDE 5: Grand Finale ==================== -->
  <div class="slide" data-slide="5">
    <canvas id="s5-canvas"></canvas>
    <div class="s5-content">
      <div class="s5-title" style="background:linear-gradient(135deg,var(--amber),var(--pink),var(--purple),var(--blue));background-size:300% 300%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:s1-gradient-shift 3s ease infinite;">
        The End.
      </div>
      <div class="s5-subtitle">
        Every element you've seen is pure HTML, CSS, and vanilla JS. No libraries. No frameworks. Just the platform.
      </div>
      <button class="s5-cta" onclick="goTo(0)">Replay from Start</button>

      <div class="s5-float-stat" style="top:18%;left:12%;animation-delay:0.5s;border-color:rgba(79,143,255,0.3);">
        <span style="color:var(--blue);">5</span> Slides
      </div>
      <div class="s5-float-stat" style="top:22%;right:14%;animation-delay:0.7s;border-color:rgba(168,85,247,0.3);">
        <span style="color:var(--purple);">0</span> Dependencies
      </div>
      <div class="s5-float-stat" style="bottom:22%;left:18%;animation-delay:0.9s;border-color:rgba(0,229,204,0.3);">
        <span style="color:var(--cyan);">60</span> FPS
      </div>
      <div class="s5-float-stat" style="bottom:18%;right:16%;animation-delay:1.1s;border-color:rgba(244,114,182,0.3);">
        <span style="color:var(--pink);">&#x2764;</span> Pure CSS
      </div>
    </div>
  </div>

</div>

<!-- Navigation -->
<div class="nav">
  <button onclick="prev()" id="prevBtn" disabled>&larr; Prev</button>
  <div class="progress" id="progress"></div>
  <div class="slide-num" id="slideNum">1 / 5</div>
  <button onclick="next()" id="nextBtn">Next &rarr;</button>
</div>

<script>
// ============================================
// DECK ENGINE
// ============================================
const slides = document.querySelectorAll('.slide');
const total = slides.length;
let current = 0;

function goTo(n) {
  if (n < 0 || n >= total) return;
  slides[current].classList.remove('active');
  current = n;
  slides[current].classList.add('active');
  updateNav();
  onSlideEnter(current);
}
function next() { goTo(current + 1); }
function prev() { goTo(current - 1); }

function updateNav() {
  document.getElementById('prevBtn').disabled = current === 0;
  document.getElementById('nextBtn').disabled = current === total - 1;
  document.getElementById('slideNum').textContent = `${current + 1} / ${total}`;
  document.querySelectorAll('.progress .dot').forEach((d, i) => d.classList.toggle('active', i === current));
}

// Build dots
const progress = document.getElementById('progress');
for (let i = 0; i < total; i++) {
  const dot = document.createElement('div');
  dot.className = 'dot' + (i === 0 ? ' active' : '');
  dot.onclick = () => goTo(i);
  progress.appendChild(dot);
}

document.addEventListener('keydown', e => {
  if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); next(); }
  if (e.key === 'ArrowLeft') { e.preventDefault(); prev(); }
});

// ============================================
// SLIDE 1 — Particle Canvas
// ============================================
function initParticles() {
  const canvas = document.getElementById('s1-canvas');
  const ctx = canvas.getContext('2d');
  let particles = [];
  const colors = ['#4f8fff', '#a855f7', '#00e5cc', '#f472b6'];

  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  resize();
  window.addEventListener('resize', resize);

  for (let i = 0; i < 80; i++) {
    particles.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      vx: (Math.random() - 0.5) * 0.5,
      vy: (Math.random() - 0.5) * 0.5,
      r: Math.random() * 2 + 1,
      color: colors[Math.floor(Math.random() * colors.length)],
      alpha: Math.random() * 0.5 + 0.1,
    });
  }

  let mouse = { x: canvas.width / 2, y: canvas.height / 2 };
  canvas.addEventListener('mousemove', e => { mouse.x = e.clientX; mouse.y = e.clientY; });

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (const p of particles) {
      p.x += p.vx;
      p.y += p.vy;
      if (p.x < 0) p.x = canvas.width;
      if (p.x > canvas.width) p.x = 0;
      if (p.y < 0) p.y = canvas.height;
      if (p.y > canvas.height) p.y = 0;

      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
      ctx.fillStyle = p.color;
      ctx.globalAlpha = p.alpha;
      ctx.fill();
    }

    // Draw connections
    ctx.globalAlpha = 1;
    for (let i = 0; i < particles.length; i++) {
      for (let j = i + 1; j < particles.length; j++) {
        const dx = particles[i].x - particles[j].x;
        const dy = particles[i].y - particles[j].y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < 120) {
          ctx.beginPath();
          ctx.moveTo(particles[i].x, particles[i].y);
          ctx.lineTo(particles[j].x, particles[j].y);
          ctx.strokeStyle = particles[i].color;
          ctx.globalAlpha = (1 - dist / 120) * 0.12;
          ctx.lineWidth = 0.5;
          ctx.stroke();
        }
      }
      // Mouse attraction
      const mdx = mouse.x - particles[i].x;
      const mdy = mouse.y - particles[i].y;
      const mdist = Math.sqrt(mdx * mdx + mdy * mdy);
      if (mdist < 200) {
        particles[i].vx += mdx * 0.00005;
        particles[i].vy += mdy * 0.00005;
      }
      // Damping
      particles[i].vx *= 0.999;
      particles[i].vy *= 0.999;
    }
    ctx.globalAlpha = 1;
    requestAnimationFrame(draw);
  }
  draw();
}
initParticles();

// ============================================
// SLIDE 2 — Counter Animation
// ============================================
function animateCounters() {
  document.querySelectorAll('[data-slide="2"] .s2-counter').forEach(el => {
    const target = parseFloat(el.dataset.target);
    const suffix = el.dataset.suffix || '';
    const decimals = parseInt(el.dataset.decimals) || 0;
    const duration = 2000;
    const start = performance.now();

    function tick(now) {
      const elapsed = now - start;
      const progress = Math.min(elapsed / duration, 1);
      // Ease out cubic
      const eased = 1 - Math.pow(1 - progress, 3);
      const value = (eased * target).toFixed(decimals);
      el.textContent = value + suffix;
      if (progress < 1) requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
  });
}

// ============================================
// SLIDE 3 — Bar Chart
// ============================================
function buildBars() {
  const data = [
    { label: 'CSS', value: 92, color: 'var(--blue)' },
    { label: 'Canvas', value: 85, color: 'var(--purple)' },
    { label: 'WebGL', value: 98, color: 'var(--cyan)' },
    { label: 'SVG', value: 76, color: 'var(--pink)' },
    { label: 'Lottie', value: 88, color: 'var(--amber)' },
    { label: 'GSAP', value: 95, color: 'var(--green)' },
    { label: 'Framer', value: 90, color: 'var(--red)' },
  ];
  const container = document.getElementById('s3-bars');
  container.innerHTML = '';
  data.forEach((d, i) => {
    const col = document.createElement('div');
    col.className = 's3-bar-col';
    col.innerHTML = `
      <div class="s3-bar" style="height:${d.value * 2.2}px;background:${d.color};animation-delay:${0.4 + i * 0.12}s;">
        <div class="s3-bar-value" style="color:${d.color};animation-delay:${0.8 + i * 0.12}s;">${d.value}</div>
      </div>
      <div class="s3-bar-label">${d.label}</div>
    `;
    container.appendChild(col);
  });
}
buildBars();

// ============================================
// SLIDE 4 — Typewriter + Character Reveal + Wave
// ============================================
const s4Text = 'Composable Animations';
const s4TypeText = '> rendering imagination...';
let s4TypeIndex = 0;

function initSlide4() {
  // Reset
  s4TypeIndex = 0;
  document.getElementById('s4-typed').textContent = '';
  document.getElementById('s4-big-text').innerHTML = '';

  // Typewriter
  function typeChar() {
    if (s4TypeIndex < s4TypeText.length) {
      document.getElementById('s4-typed').textContent += s4TypeText[s4TypeIndex];
      s4TypeIndex++;
      setTimeout(typeChar, 40 + Math.random() * 40);
    } else {
      // After typing, reveal big text
      setTimeout(revealBigText, 300);
    }
  }
  setTimeout(typeChar, 600);

  function revealBigText() {
    const el = document.getElementById('s4-big-text');
    el.innerHTML = '';
    let charIndex = 0;
    for (const ch of s4Text) {
      if (ch === ' ') {
        el.innerHTML += ' ';
      } else {
        el.innerHTML += `<span class="char" style="animation-delay:${0.03 * charIndex}s">${ch}</span>`;
        charIndex++;
      }
    }
  }

  // Build wave bars
  const waveRow = document.getElementById('s4-wave-row');
  waveRow.innerHTML = '';
  for (let i = 0; i < 40; i++) {
    const bar = document.createElement('div');
    bar.className = 's4-wave-bar';
    bar.style.animationDelay = `${i * 0.05}s`;
    bar.style.background = `hsl(${200 + i * 3}, 80%, 60%)`;
    waveRow.appendChild(bar);
  }
}

// ============================================
// SLIDE 5 — Fireworks Canvas
// ============================================
function initFireworks() {
  const canvas = document.getElementById('s5-canvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const sparks = [];
  const colors = ['#4f8fff', '#a855f7', '#00e5cc', '#f472b6', '#fbbf24', '#34d399', '#ef4444'];

  function burst(x, y) {
    const count = 30 + Math.random() * 30;
    const color = colors[Math.floor(Math.random() * colors.length)];
    for (let i = 0; i < count; i++) {
      const angle = (Math.PI * 2 * i) / count + (Math.random() - 0.5) * 0.3;
      const speed = 2 + Math.random() * 4;
      sparks.push({
        x, y,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed,
        life: 1,
        decay: 0.01 + Math.random() * 0.015,
        color,
        r: 1.5 + Math.random() * 2,
      });
    }
  }

  let running = false;
  let burstInterval;

  function start() {
    if (running) return;
    running = true;
    // Initial bursts
    for (let i = 0; i < 5; i++) {
      setTimeout(() => {
        burst(
          canvas.width * 0.2 + Math.random() * canvas.width * 0.6,
          canvas.height * 0.2 + Math.random() * canvas.height * 0.4
        );
      }, i * 400);
    }
    // Periodic bursts
    burstInterval = setInterval(() => {
      burst(
        canvas.width * 0.15 + Math.random() * canvas.width * 0.7,
        canvas.height * 0.15 + Math.random() * canvas.height * 0.5
      );
    }, 1200);
    draw();
  }

  function stop() {
    running = false;
    clearInterval(burstInterval);
    sparks.length = 0;
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }

  function draw() {
    if (!running) return;
    ctx.fillStyle = 'rgba(6,6,10,0.15)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    for (let i = sparks.length - 1; i >= 0; i--) {
      const s = sparks[i];
      s.x += s.vx;
      s.y += s.vy;
      s.vy += 0.04; // gravity
      s.vx *= 0.99;
      s.life -= s.decay;

      if (s.life <= 0) { sparks.splice(i, 1); continue; }

      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r * s.life, 0, Math.PI * 2);
      ctx.fillStyle = s.color;
      ctx.globalAlpha = s.life;
      ctx.fill();

      // Trail
      ctx.beginPath();
      ctx.moveTo(s.x, s.y);
      ctx.lineTo(s.x - s.vx * 2, s.y - s.vy * 2);
      ctx.strokeStyle = s.color;
      ctx.globalAlpha = s.life * 0.4;
      ctx.lineWidth = s.r * s.life * 0.5;
      ctx.stroke();
    }
    ctx.globalAlpha = 1;
    requestAnimationFrame(draw);
  }

  return { start, stop };
}

const fireworks = initFireworks();

// ============================================
// SLIDE ENTER CALLBACKS
// ============================================
function onSlideEnter(n) {
  // Stop fireworks when leaving slide 5
  if (n !== 4) fireworks.stop();

  switch(n) {
    case 1: animateCounters(); break;
    case 2: buildBars(); break;
    case 3: initSlide4(); break;
    case 4: fireworks.start(); break;
  }
}

// Init first slide
onSlideEnter(0);
</script>
</body>
</html>
